<div *ngIf="esAdmin" class="admin-menu">
  <div class="admin-header">
    <h1 class="admin-title p-3 m-3">Administración de vehículos</h1>
   <div class="organizer-botones p-2 m-2" >
    <ul class="lista">
      <li class="espacio p-2">
        <button class="admin-add-btn" (click)="abrirAgregarTipoVehiculo()">
          <i class="bi bi-plus-circle-fill" style="font-size: 2rem"></i>
          Agregar Tipo Vehículo
        </button>
      </li>
      <li class="espacio p-2">
        <button class="admin-add-btn" (click)="abrirAgregarVehiculo()">
          <i class="bi bi-plus-circle-fill" style="font-size: 2rem"></i>
          Agregar Vehículo
        </button>
      </li>
    </ul>
  </div>
  </div>
  <!--Agregar modal vehiculo-->
  <!-- *ngIf="mostrarFormulario" -->
  <!-- <div class="modal-backdrop" >
    <div class="modal-contenido" >


 (click)="ejecutar()" -->


</div>
<div class="col-4">
  <button class="btn btn-success m-3"  (click)="rescatarTipoVheculos()">Cargar Tipos Vheiculos</button>
</div>
<div class="row pt-0 m-0">
  <div class="col-14">
    <div class="card">
      <div class="card-header">
        <p>Lista tipo vheiculos</p>
      </div>

      <div class="card-body">
        <form [formGroup]="formUpdate" >
        <table class="table table-border" >

          <thead>
            <tr>

              <th>CONTROL-ELIMINAR</th>
              <th>CONTROL-ACTUALIZAR</th>

              <th>ID-REAL</th>
              <th>MARCA</th>
              <th>MODELO</th>
              <th>PRECIO</th>
              <th>TIPO</th>
              <th>IMAGEN</th>
              <!-- <th>MATRICULA</th>
              <th>color</th>
              <th>kilometraje</th>
              <th>disponibilidad</th>
              <th>ubicacion</th>
              <th>combustible</th>
              <th>etiqueta</th>
              <th>autonomia</th>
              <th>puertas</th>
              <th>aireAcondicionado</th>
              <th>plazas</th>
              <th>transmision</th>
              <th>reservas</th> -->

            </tr>
          </thead>

          <tbody>


              @for (tipo of tipoVehiculosList; track $index) {
                <tr>

                  <td><button class="btn btn-danger " (click)="eliminarById()">Eliminar</button></td>
                  <td><button class="btn btn-secondary " (click)="actualizarTipoVheiculo()">Actualizar</button></td>
                  <td class="esp m-1">{{tipo.id}} <input  type="number" placeholder="adadsa" formControlName="id"> </td>
                  <td class="esp m-1"> {{tipo.marca}}<input type="text" [value]="tipo.marca" formControlName="marca" ></td>
                  <td class="esp m-1">{{tipo.modelo}}<input type="text" [value]="tipo.modelo"formControlName="modelo"> </td>
                  <td>{{tipo.precio}} <input type="number" [value]="tipo.precio"formControlName="precio"> </td>
                  <td>{{tipo.tipo}}<input type="text" [value]="tipo.tipo" formControlName="tipo">  </td>
                  <td>{{tipo.imagen}}<input type="text" [value]="tipo.imagen" formControlName="imagen"></td>

                  <!-- @for (item of tipo.vehiculos; track $index) {

                    <td>{{item.matricula}}</td>
                    <td> {{item.color}}</td>
                    <td> {{item.kilometraje}}</td>
                    <td> {{item.disponibilidad}}</td>
                    <td> {{item.ubicacion}}</td>
                    <td> {{item.combustible}}</td>
                    <td> {{item.etiqueta}}</td>
                    <td> {{item.autonomia}}</td>
                    <td> {{item.puertas}}</td>
                    <td> {{item.aireAcondicionado}}</td>
                    <td> {{item.plazas}}</td>
                    <td> {{item.transmision}}</td>
                    <td> {{item.reservas}}</td>
                  } -->

                </tr>

              }

          </tbody>

        </table>
        </form>
      </div>

    </div>
  </div>
</div>

<div class="vehiculos-grid">
  <div class="vehiculo-card" *ngFor="let veh of vehiculos">
    <button class="vehiculo-delete" title="Eliminar">&#128465;</button>
    <img
      class="vehiculo-img"
      [src]="veh.imagen"
      [alt]="veh.nombre + ' ' + veh.modelo"
    />
    <div class="vehiculo-row">
      <div>
        <div class="vehiculo-nombre">{{ veh.nombre }}</div>
        <div class="vehiculo-modelo">{{ veh.modelo }}</div>
        <div class="vehiculo-anio">{{ veh.anio }}</div>
      </div>
      <div>
        <span class="vehiculo-precio">{{ veh.precio }}</span>
        <span class="vehiculo-dia">por día</span>
      </div>
    </div>
  </div>

  <div class="vehiculos-grid">
    <div class="vehiculo-card" *ngFor="let veh of vehiculos">
      <button class="vehiculo-delete" title="Eliminar">&#128465;</button>
      <img class="vehiculo-img" [src]="veh.imagen" [alt]="veh.nombre + ' ' + veh.modelo">
      <div class="vehiculo-row">
        <div>
          <div class="vehiculo-nombre">{{ veh.nombre }}</div>
          <div class="vehiculo-modelo">{{ veh.modelo }}</div>
          <div class="vehiculo-anio">{{ veh.anio }}</div>
        </div>
        <div>
          <span class="vehiculo-precio">{{ veh.precio }}</span>
          <span class="vehiculo-dia">por día</span>
        </div>
      </div>
      <div class="vehiculo-specs">
        <div class="vehiculo-spec" *ngFor="let spec of veh.specs">{{ spec }}</div>
      </div>
      <button class="vehiculo-btn" >Editar</button>
    </div>
    <button class="vehiculo-btn">Editar</button>
  </div>



</div>

  <app-creart-tipo-vheiculo-admin
  *ngIf="showAgregarModalTipoVheiculo"
  (closeModal)="cerrarAgregarTipoVehiculo()"></app-creart-tipo-vheiculo-admin>
<app-editar-vehiculo
  *ngIf="showAgregarModal"
  (closeModal)="cerrarAgregarVehiculo()"
></app-editar-vehiculo>
